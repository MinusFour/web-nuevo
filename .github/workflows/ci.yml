name: ci
on:
    pull_request_target:
        branches:
            - dev
jobs:
    lint_and_build:
        runs-on: [self-hosted, linux, ARM64, ci]
        steps:
            - uses: actions/checkout@v2
              with:
                  persist-credentials: false
                  ref: refs/pull/${{ github.event.pull_request.number }}/merge
            - name: Install dependencies
              run: npm ci
            - name: Run eslint
              run: npm run eslint
            - name: Run stylelint
              run: npm run stylelint
            - name: Run build
              run: npm run build
